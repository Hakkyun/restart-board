<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>게시판</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
	<link rel="stylesheet" th:href="@{/css/common.css}">
</head>
<body class="container mt-4">
	<div th:replace="~{fragments/header :: headerFragment}"></div>
    <h1 class="mb-4"->📋 게시판</h1>
    
	<!-- 작성 버튼 -->
	<div class="mb-3 text-end">
		<a href="/board/write" class="btn btn-primary">글쓰기</a>
	</div>
	
	<!-- 게시글 목록 테이블 -->
	<!-- <p th:if="${#lists.isEmpty(posts)}">게시글이 없습니다.</p> -->
	<!-- th:if="${not #lists.isEmpty(posts)" -->
	<table class="table table-striped" border="1">
		<thead>
			<tr>
				<th>번호</th>
				<th>제목</th>
				<th>작성자</th>
				<th>내용</th>
				<th>작성시간</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="post : ${posts}">
				<td th:text="${post.brdId}" class="align-center"></td>
				<td th:text="${post.brdTitle}"></td>
				<td th:text="${post.brdWriter}" class="align-center"></td>
				<!-- 이렇게 쓸 경우 substring 범위보다 String의 길이가 짧을 경우 StringIndeOutOfBoundsExcepion 발생 -->
				<!-- <td th:text="${#strings.substring(post.brdContent, 0, 1) + '...'}"></td> -->
				<td th:text="${#strings.length(post.brdContent) > 18 ? #strings.substring(post.brdContent, 0, 18) + '...' : post.brdContent}"></td>
				<td th:text="${#temporals.format(post.brdRegTime, 'yyyy-MM-dd HH:mm:ss')}" class="align-center"></td>	
			</tr>
		</tbody>
	</table>
</body>
</html>
